(function(h,w,r,i,x,a,b,R,f){"use strict";const{ScrollView:v,View:E,Text:s,TextInput:o}=r.ReactNative;(!Array.isArray(a.storage.words)||a.storage.words.length!==10)&&(a.storage.words=["","","","","","","","","",""]);function M(){b.useProxy(a.storage);const e=r.stylesheet.createThemedStyleSheet({base:{flex:1,backgroundColor:i.semanticColors.BACKGROUND_MOBILE_PRIMARY,padding:12},card:{backgroundColor:i.semanticColors.CARD_BACKGROUND_DEFAULT,borderRadius:16,borderWidth:1,borderColor:i.semanticColors.BORDER_MUTED,padding:12,gap:12},title:{fontSize:18,fontWeight:"600",color:i.semanticColors.TEXT_DEFAULT},warning:{color:i.semanticColors.TEXT_WARNING,fontSize:14,lineHeight:18},label:{color:i.semanticColors.TEXT_DEFAULT,fontSize:14,marginBottom:6,marginTop:12},input:{backgroundColor:i.semanticColors.BACKGROUND_TERTIARY,color:i.semanticColors.TEXT_DEFAULT,borderRadius:8,paddingHorizontal:12,paddingVertical:10,borderWidth:1,borderColor:i.semanticColors.BORDER_MUTED,fontSize:14}});return r.React.createElement(v,{style:e.base},r.React.createElement(E,{style:e.card},r.React.createElement(s,{style:e.title},"\u26A0\uFE0F Warning"),r.React.createElement(s,{style:e.warning},"Messages entered here will be used by /raid. You are fully responsible for how this plugin is used.")),r.React.createElement(E,{style:[e.card,{marginTop:12}]},r.React.createElement(s,{style:e.title},"Raid Messages"),r.React.createElement(s,{style:e.label},"Message 1"),r.React.createElement(o,{style:e.input,value:a.storage.words[0],onChangeText:function(t){return a.storage.words[0]=t}}),r.React.createElement(s,{style:e.label},"Message 2"),r.React.createElement(o,{style:e.input,value:a.storage.words[1],onChangeText:function(t){return a.storage.words[1]=t}}),r.React.createElement(s,{style:e.label},"Message 3"),r.React.createElement(o,{style:e.input,value:a.storage.words[2],onChangeText:function(t){return a.storage.words[2]=t}}),r.React.createElement(s,{style:e.label},"Message 4"),r.React.createElement(o,{style:e.input,value:a.storage.words[3],onChangeText:function(t){return a.storage.words[3]=t}}),r.React.createElement(s,{style:e.label},"Message 5"),r.React.createElement(o,{style:e.input,value:a.storage.words[4],onChangeText:function(t){return a.storage.words[4]=t}}),r.React.createElement(s,{style:e.label},"Message 6"),r.React.createElement(o,{style:e.input,value:a.storage.words[5],onChangeText:function(t){return a.storage.words[5]=t}}),r.React.createElement(s,{style:e.label},"Message 7"),r.React.createElement(o,{style:e.input,value:a.storage.words[6],onChangeText:function(t){return a.storage.words[6]=t}}),r.React.createElement(s,{style:e.label},"Message 8"),r.React.createElement(o,{style:e.input,value:a.storage.words[7],onChangeText:function(t){return a.storage.words[7]=t}}),r.React.createElement(s,{style:e.label},"Message 9"),r.React.createElement(o,{style:e.input,value:a.storage.words[8],onChangeText:function(t){return a.storage.words[8]=t}}),r.React.createElement(s,{style:e.label},"Message 10"),r.React.createElement(o,{style:e.input,value:a.storage.words[9],onChangeText:function(t){return a.storage.words[9]=t}})),r.React.createElement(E,{style:{height:80}}))}const m=f.findByProps("sendMessage","editMessage"),y=f.findByStoreName("UserStore"),p=[],{receiveMessage:C}=f.findByProps("receiveMessage"),{createBotMessage:T}=f.findByProps("createBotMessage"),D=function(){return Math.floor(Math.random()*100)};function U(e){return new Promise(function(t){return setTimeout(t,e)})}function N(){return Array.isArray(a.storage.words)?a.storage.words.filter(function(e){return typeof e=="string"&&e.trim().length}):[]}function I(){const e=N();return e.length?e[Math.floor(Math.random()*e.length)]:"### (no spam messages configured)"}p.push(R.registerCommand({name:"raid",displayName:"raid",description:"Start a Raid!",options:[{name:"amount",displayName:"amount",description:"Number of times to send",required:!0,type:4},{name:"delay",displayName:"delay",description:"Delay between messages (ms)",required:!0,type:4}],applicationId:"-1",inputType:1,type:1,execute:async function(e,t){const l=Number(e.find(function(n){return n.name==="amount"})?.value??0),c=Number(e.find(function(n){return n.name==="delay"})?.value??0);if(!(l<=0))for(let n=0;n<l;n++){const d=I(),u=D(),g=`${d} \`${u}\``;await U(c),m.sendMessage(t.channel.id,{content:g},void 0,{nonce:Date.now().toString()})}}})),p.push(R.registerCommand({name:"fetchprofile",displayName:"Fetch Profile",description:"Fetch a user's avatar as Bemmo",options:[{name:"user",displayName:"user",description:"Mention or ID of the user",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:async function(e,t){const l=e.find(function(g){return g.name==="user"})?.value?.trim();if(!l)return;const c=l.replace(/[<@!>]/g,""),n=y.getUser(c);if(!n){m.sendMessage(t.channel.id,{content:"\u274C User not found"},void 0,{nonce:Date.now().toString()});return}const d=n.getAvatarURL?.({format:"png",size:512})||`https://cdn.discordapp.com/embed/avatars/${Number(n.discriminator)%5}.png`,u=y.getCurrentUser();C(t.channel.id,Object.assign(T({channelId:t.channel.id,content:d}),{author:u}))}})),p.push(R.registerCommand({name:"userid",displayName:"User ID",description:"Displays a user's ID as Bemmo",options:[{name:"user",displayName:"user",description:"Mention or ID of the user",required:!0,type:3}],applicationId:"-1",inputType:1,type:1,execute:function(e,t){const l=e.find(function(g){return g.name==="user"})?.value?.trim();if(!l)return;const c=l.replace(/[<@!>]/g,""),n=y.getUser(c);if(!n){m.sendMessage(t.channel.id,{content:"\u274C User not found"},void 0,{nonce:Date.now().toString()});return}const d=`${n.username}'s ID: ${n.id}`,u=y.getCurrentUser();C(t.channel.id,Object.assign(T({channelId:t.channel.id,content:d}),{author:u}))}}));var A={onLoad:function(){w.logger.log("Raid + FetchProfile + UserID plugin loaded!")},onUnload:function(){for(const e of p)e();w.logger.log("Raid + FetchProfile + UserID plugin unloaded.")},settings:M};return h.default=A,Object.defineProperty(h,"__esModule",{value:!0}),h})({},vendetta,vendetta.metro.common,vendetta.ui,vendetta.ui.components,vendetta.plugin,vendetta.storage,vendetta.commands,vendetta.metro);
