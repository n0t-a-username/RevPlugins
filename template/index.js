(function(r,i,d,o){"use strict";const l=i.findByProps("addReaction"),m=i.findByProps("getMessages");let a=null;const c=["\u{1F525}","\u{1F480}","\u{1F602}","\u{1F62D}","\u{1F440}","\u{1F608}","\u{1F921}","\u{1F4A5}","\u{1F5FF}","\u{1F60E}","\u{1FAE1}","\u{1F92F}","\u{1F976}","\u{1F975}","\u{1F47D}","\u{1F4A3}","\u26A1","\u{1F9E0}","\u{1F479}","\u{1F6A8}"];function p(n){if(!n)return null;const e=String(n).trim(),t=e.match(/^<#(\d{17,21})>$/);return t?t[1]:/^\d{17,21}$/.test(e)?e:null}function F(n){const e=m?.getMessages?.(n);if(!e)return null;const t=Array.from(e.values());return t.length===0?null:(t.sort(function(s,u){return u.timestamp-s.timestamp}),t[0])}var f={onLoad(){d.registerCommand({name:"reactspam",description:"Spam reactions on the last message of a specified channel",options:[{name:"channel",description:"Channel mention or ID",type:3,required:!0},{name:"seconds",description:"Delay between reactions",type:4,required:!1},{name:"stop",description:"Stop reaction spam",type:5,required:!1}],execute(n){if(n.stop){a&&(clearInterval(a),a=null,o.showToast("Reaction spam stopped"));return}if(a){o.showToast("Reaction spam already running");return}const e=p(n.channel);if(!e){o.showToast("Invalid channel ID or mention");return}const t=F(e);if(!t){o.showToast("No messages found in this channel");return}const s=n.seconds>0?n.seconds:2;a=setInterval(function(){const u=c[Math.floor(Math.random()*c.length)];l.addReaction(e,t.id,{name:u})},s*1e3),o.showToast(`Reaction spam started on last message in <#${e}> (${s}s interval)`)}})},onUnload(){a&&clearInterval(a)}};return r.default=f,Object.defineProperty(r,"__esModule",{value:!0}),r})({},vendetta.metro,vendetta.commands,vendetta.ui.toasts);
