(function(c,e,d,w,u,h){"use strict";(!Array.isArray(e.storage.words)||e.storage.words.length!==10)&&(e.storage.words=["","","","","","","","","",""]),typeof e.storage.eventGiveawayPing!="string"&&(e.storage.eventGiveawayPing="");let f,v,y;const m=[],p=function(){f=d.registerCommand({name:"raid",description:"Send configured raid messages.",options:[],execute:async function(r,a){const n=a.channel.id;for(const t of e.storage.words){if(!t||!t.trim())continue;const s=Math.floor(Math.random()*1e3),o=`${t} ${s}`;a.sendMessage(n,{content:o}),await new Promise(function(G){return setTimeout(G,800)})}}}),v=d.registerCommand({name:"fetchprofile",description:"Get avatar URL of mentioned user.",options:[{name:"user",description:"User to fetch",type:6,required:!0}],execute:async function(r,a){const n=r[0];return n?.avatar?{content:`https://cdn.discordapp.com/avatars/${n.id}/${n.avatar}.png?size=1024`}:{content:"No avatar found."}}}),y=d.registerCommand({name:"userid",description:"Get user ID of mentioned user.",options:[{name:"user",description:"User",type:6,required:!0}],execute:async function(r){return{content:r[0]?.id??"Unknown user."}}});const i=u.findByProps("UserProfileActions")?.UserProfileActions,g=u.findByProps("Button")?.Button;i&&g&&m.push(w.after("default",i,function(r,a,n){try{const t=a?.[0]?.user;if(!t?.id)return;const s=n?.props?.children;if(!Array.isArray(s)||s.some(function(o){return o?.key==="event-giveaway-button"}))return;s.push(h.React.createElement(g,{key:"event-giveaway-button",text:"Giveaway",size:"SMALL",onPress:function(){const o=`<@${t.id}>`;e.storage.eventGiveawayPing.includes(o)||(e.storage.eventGiveawayPing=e.storage.eventGiveawayPing.trim().length>0?e.storage.eventGiveawayPing+`
`+o:o)}}))}catch(t){console.log("Giveaway button injection error:",t)}}))},P=function(){f?.(),v?.(),y?.(),m.forEach(function(i){return i()})};return c.onLoad=p,c.onUnload=P,c})({},vendetta.plugin,vendetta.commands,vendetta.patcher,vendetta.metro,vendetta.metro.common);
